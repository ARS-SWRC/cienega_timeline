/* 
  Purpose: this script activates the climate charts. 
  Author: Gerardo Armendariz
  Date: 4-3-2018
**/	

var spei_data = [ [new Date("1895/01/01" ), -0.10341225261996147],
[ new Date("1896/01/01" ), -0.19552241655478772],
[ new Date("1897/01/01" ), -0.07001991546108018],
[ new Date("1898/01/01" ), 0.20571794334070334],
[ new Date("1899/01/01" ), -0.147320019029344],
[ new Date("1900/01/01" ), -0.42985243475040513],
[ new Date("1901/01/01" ), 0.05089210601369346],
[ new Date("1902/01/01" ), -0.38731973282311283],
[ new Date("1903/01/01" ), -0.1541902214420662],
[ new Date("1904/01/01" ), -0.16898028806056128],
[ new Date("1905/01/01" ), 1.2393428483978852],
[ new Date("1906/01/01" ), 0.2079461387547047],
[ new Date("1907/01/01" ), 0.46864221680171786],
[ new Date("1908/01/01" ), 0.3511164350908153],
[ new Date("1909/01/01" ), 0.023703786075558883],
[ new Date("1910/01/01" ), -0.5704775394555168],
[ new Date("1911/01/01" ), 0.2949852421851737],
[ new Date("1912/01/01" ), 0.45630963087974696],
[ new Date("1913/01/01" ), 0.45780972173651263],
[ new Date("1914/01/01" ), 0.5139099456379382],
[ new Date("1915/01/01" ), 0.21339475029906105],
[ new Date("1916/01/01" ), 0.12180676959467414],
[ new Date("1917/01/01" ), -0.12544392889665718],
[ new Date("1918/01/01" ), -0.051761708354020004],
[ new Date("1919/01/01" ), 0.693921491481511],
[ new Date("1920/01/01" ), 0.25681236767850274],
[ new Date("1921/01/01" ), -0.021422641002625354],
[ new Date("1922/01/01" ), 0.13279435491794994],
[ new Date("1923/01/01" ), 0.4916086667378324],
[ new Date("1924/01/01" ), -0.34832299626215696],
[ new Date("1925/01/01" ), -0.061221355010046115],
[ new Date("1926/01/01" ), 0.43853723096112013],
[ new Date("1927/01/01" ), 0.03131044224783567],
[ new Date("1928/01/01" ), -0.33032918129740757],
[ new Date("1929/01/01" ), 0.24104230771982407],
[ new Date("1930/01/01" ), 0.5298403642355413],
[ new Date("1931/01/01" ), 0.6750850864772658],
[ new Date("1932/01/01" ), 0.09473698343018065],
[ new Date("1933/01/01" ), -0.009891377463698725],
[ new Date("1934/01/01" ), -0.5062078597297006],
[ new Date("1935/01/01" ), 0.393941343141991],
[ new Date("1936/01/01" ), -0.2969007545581489],
[ new Date("1937/01/01" ), -0.005086277407631071],
[ new Date("1938/01/01" ), 0.09614207205809883],
[ new Date("1939/01/01" ), -0.1399479153445575],
[ new Date("1940/01/01" ), 0.22694286927068322],
[ new Date("1941/01/01" ), 0.5935397352021548],
[ new Date("1942/01/01" ), -0.21663270445915975],
[ new Date("1943/01/01" ), -0.42198578938102665],
[ new Date("1944/01/01" ), 0.48171155491388795],
[ new Date("1945/01/01" ), -0.021369859726994695],
[ new Date("1946/01/01" ), -0.012500115962012484],
[ new Date("1947/01/01" ), -0.37634367595674917],
[ new Date("1948/01/01" ), -0.2442888536420683],
[ new Date("1949/01/01" ), 0.09207105516839409],
[ new Date("1950/01/01" ), -0.9423716535214863],
[ new Date("1951/01/01" ), 0.2679730428066154],
[ new Date("1952/01/01" ), 0.043956434673439536],
[ new Date("1953/01/01" ), -0.46909162968918455],
[ new Date("1954/01/01" ), -0.1639948370657169],
[ new Date("1955/01/01" ), 0.008210183017693051],
[ new Date("1956/01/01" ), -0.5954649821024065],
[ new Date("1957/01/01" ), 0.10844813327449576],
[ new Date("1958/01/01" ), 0.08676311755961552],
[ new Date("1959/01/01" ), -0.10083534324372956],
[ new Date("1960/01/01" ), -0.24937979118178658],
[ new Date("1961/01/01" ), 0.11155434448575312],
[ new Date("1962/01/01" ), -0.26109404846867723],
[ new Date("1963/01/01" ), -0.01978938963446364],
[ new Date("1964/01/01" ), 0.36329728646132303],
[ new Date("1965/01/01" ), 0.2091329257889356],
[ new Date("1966/01/01" ), 0.12286635599796229],
[ new Date("1967/01/01" ), 0.23646706921571378],
[ new Date("1968/01/01" ), 0.13531932153219314],
[ new Date("1969/01/01" ), -0.07921802730170173],
[ new Date("1970/01/01" ), -0.13609696157243975],
[ new Date("1971/01/01" ), 0.3008638890788587],
[ new Date("1972/01/01" ), -0.12969806737926382],
[ new Date("1973/01/01" ), -0.14177300003149199],
[ new Date("1974/01/01" ), -0.1554532002240892],
[ new Date("1975/01/01" ), 0.05117562294794468],
[ new Date("1976/01/01" ), 0.18569721879273682],
[ new Date("1977/01/01" ), 0.18784979432362456],
[ new Date("1978/01/01" ), 0.5815485998641879],
[ new Date("1979/01/01" ), -0.11112715761483642],
[ new Date("1980/01/01" ), -0.1882391505978215],
[ new Date("1981/01/01" ), 0.015921783186415295],
[ new Date("1982/01/01" ), 0.3323144887911049],
[ new Date("1983/01/01" ), 0.9705629578225352],
[ new Date("1984/01/01" ), 0.5368877289561408],
[ new Date("1985/01/01" ), 0.31250415122496494],
[ new Date("1986/01/01" ), 0.1706699304580347],
[ new Date("1987/01/01" ), 0.337386996332901],
[ new Date("1988/01/01" ), 0.1653256510437785],
[ new Date("1989/01/01" ), -0.7614644183863737],
[ new Date("1990/01/01" ), 0.3134437286616272],
[ new Date("1991/01/01" ), 0.31419015772799286],
[ new Date("1992/01/01" ), 0.4280171556970865],
[ new Date("1993/01/01" ), 0.21114431123235522],
[ new Date("1994/01/01" ), -0.015508831553912935],
[ new Date("1995/01/01" ), -0.14767720416301133],
[ new Date("1996/01/01" ), -0.7349762143443094],
[ new Date("1997/01/01" ), -0.17984378197225803],
[ new Date("1998/01/01" ), 0.19026290332727777],
[ new Date("1999/01/01" ), -0.45656128933027684],
[ new Date("2000/01/01" ), -0.29567120257136154],
[ new Date("2001/01/01" ), 0.029233019402518115],
[ new Date("2002/01/01" ), -0.7648112328775197],
[ new Date("2003/01/01" ), -0.4227798057580046],
[ new Date("2004/01/01" ), -0.05251205997631391],
[ new Date("2005/01/01" ), -0.39734942890627134],
[ new Date("2006/01/01" ), -0.4110845355086712],
[ new Date("2007/01/01" ), -0.2002937838542004],
[ new Date("2008/01/01" ), -0.008986892215823716],
[ new Date("2009/01/01" ), -0.5284747226196672],
[ new Date("2010/01/01" ), 0.13125190390166355],
[ new Date("2011/01/01" ), -0.4424843801458986],
[ new Date("2012/01/01" ), -0.7372230245756227],
[ new Date("2013/01/01" ), -0.5919075660783855],
[ new Date("2014/01/01" ), -0.510661104696641],
[ new Date("2015/01/01" ), 0.16278515746835542],
[ new Date("2016/01/01" ), -0.22175804829666154]];

// date, annual, and JJA
var schorr_data = [ [ new Date("1976/01/01" ), 12.72, 17.06],
[ new Date("1977/01/01" ), 9.75, 19.1],
[ new Date("1978/01/01" ), 5.59, 27.03],
[ new Date("1979/01/01" ), 9.15, 4.49],
[ new Date("1980/01/01" ), 14.42, 8.02],
[ new Date("1981/01/01" ), 16.37, 5.92],
[ new Date("1982/01/01" ), 15.54, 4.87],
[ new Date("1983/01/01" ), 31.74, 11.14],
[ new Date("1984/01/01" ), 25.24, 14.73],
[ new Date("1985/01/01" ), 17.5, 6.96],
[ new Date("1986/01/01" ), 20.82, 13.09],
[ new Date("1987/01/01" ), 18.31, 6.5],
[ new Date("1988/01/01" ), 21.37, 11.29],
[ new Date("1989/01/01" ), 14.26, 5.98],
[ new Date("1990/01/01" ), 26.5, 17.8],
[ new Date("1991/01/01" ), 21.93, ],
[ new Date("1992/01/01" ), 21.23, 5.77],
[ new Date("1993/01/01" ), 20.08, 6.55],
[ new Date("1994/01/01" ), 20.27, 5.1],
[ new Date("1995/01/01" ), 16.97, 7.41],
[ new Date("1996/01/01" ), 11.815, 7.415],
[ new Date("1997/01/01" ), 13.64, 4.39],
[ new Date("1998/01/01" ), 16.67, 6.75],
[ new Date("1999/01/01" ), 25.24, 14.44],
[ new Date("2000/01/01" ), 16.41, 35.36] ];

// date, annual, and JJA
var bearpaw_data = [ [ new Date("1979/1/1"), 13.37, 6.58],
[ new Date("1980/1/1"), 12.27, 3.37],
[ new Date("1981/1/1"), 13.94, 4.19],
[ new Date("1982/1/1"), 15.705, 5.7],
[ new Date("1983/1/1"), 28.345, 6.3],
[ new Date("1984/1/1"), 23.97, 10.7],
[ new Date("1985/1/1"), 15.45, 4.40],
[ new Date("1986/1/1"), 20.005, 7.6],
[ new Date("1987/1/1"), 13.675, 4.1],
[ new Date("1988/1/1"), 15.77, 8.79],
[ new Date("1989/1/1"), 9.56, 3.475],
[ new Date("1990/1/1"), 19.01, 11.5],
[ new Date("1991/1/1"), 11.58, 2.43],
[ new Date("1992/1/1"), 20.74, 7.24],
[ new Date("1993/1/1"), 20.84, 8.43],
[ new Date("1994/1/1"), 17.79, 4.42],
[ new Date("1995/1/1"), 13.45, 3.47],
[ new Date("1996/1/1"), 13.12, 6.28],
[ new Date("1997/1/1"), 13.94, 2.3],
[ new Date("1998/1/1"), 22.08, 11.6],
[ new Date("1999/1/1"), 10.02, 7.2],
[ new Date("2000/1/1"), 19.39, 9.11],
[ new Date("2001/1/1"), 16.78, 9.13],
[ new Date("2002/1/1"), 10.66, 4.97],
[ new Date("2003/1/1"), 11.385, 4.4],
[ new Date("2004/1/1"), 14.94, 5.56],
[ new Date("2005/1/1"), 12.85, 5.88],
[ new Date("2006/1/1"), 12.015, 8.3],
[ new Date("2007/1/1"), 13.17, 6.95],
[ new Date("2008/1/1"), 13.695, 7.1],
[ new Date("2009/1/1"), 7.7, 3.585],
[ new Date("2010/1/1"), 13.16, 4.05],
[ new Date("2011/1/1"), 15.66, 10.02],
[ new Date("2012/1/1"), 7, 4.04],
[ new Date("2013/1/1"), 10.05, 5.08],
[ new Date("2014/1/1"), 13.12, 6.54],
[ new Date("2015/1/1"), 16.36, 5.72],
[ new Date("2016/1/1"), 16.48, 9.57],
[ new Date("2017/1/1"), 12.05, 8.39],
[ new Date("2018/1/1"), 17.64, 8.95],
[ new Date("2019/1/1"), 16.61, 2.515], ];

// the first year of ppt is not included because pdsi needs to be updated
//[ new Date("1895/01/01"), 404.6535326],
var ppt_data = [[ new Date("1895/12/31" ), 16.022141240583753],
[ new Date("1896/12/31" ), 16.12079496339873],
[ new Date("1897/12/31" ), 16.74574022341515],
[ new Date("1898/12/31" ), 17.828322632338693],
[ new Date("1899/12/31" ), 11.370656855335605],
[ new Date("1900/12/31" ), 11.735292566897122],
[ new Date("1901/12/31" ), 15.88118291059478],
[ new Date("1902/12/31" ), 10.908061972633742],
[ new Date("1903/12/31" ), 12.345768551422912],
[ new Date("1904/12/31" ), 14.504611327980225],
[ new Date("1905/12/31" ), 32.40341466977735],
[ new Date("1906/12/31" ), 17.289807010066387],
[ new Date("1907/12/31" ), 20.631873329347282],
[ new Date("1908/12/31" ), 17.59339865892389],
[ new Date("1909/12/31" ), 15.04914130208228],
[ new Date("1910/12/31" ), 12.273936877305504],
[ new Date("1911/12/31" ), 18.441310262107486],
[ new Date("1912/12/31" ), 18.530094898916655],
[ new Date("1913/12/31" ), 17.906098182284403],
[ new Date("1914/12/31" ), 25.8623642776428],
[ new Date("1915/12/31" ), 14.650104656287859],
[ new Date("1916/12/31" ), 16.64580028461712],
[ new Date("1917/12/31" ), 13.884654933081238],
[ new Date("1918/12/31" ), 13.553267598895205],
[ new Date("1919/12/31" ), 24.159048376713194],
[ new Date("1920/12/31" ), 15.296835295563161],
[ new Date("1921/12/31" ), 16.602637076662496],
[ new Date("1922/12/31" ), 15.483463845467263],
[ new Date("1923/12/31" ), 21.00148030376243],
[ new Date("1924/12/31" ), 10.439374569484103],
[ new Date("1925/12/31" ), 13.54645700514573],
[ new Date("1926/12/31" ), 22.35853255446141],
[ new Date("1927/12/31" ), 17.009190735483084],
[ new Date("1928/12/31" ), 13.754437923595678],
[ new Date("1929/12/31" ), 18.384572187472337],
[ new Date("1930/12/31" ), 21.871563789476443],
[ new Date("1931/12/31" ), 27.68514518586353],
[ new Date("1932/12/31" ), 17.7328339517772],
[ new Date("1933/12/31" ), 14.369065425778004],
[ new Date("1934/12/31" ), 14.858350280306986],
[ new Date("1935/12/31" ), 20.721205032498965],
[ new Date("1936/12/31" ), 14.44130494836831],
[ new Date("1937/12/31" ), 16.66049019118692],
[ new Date("1938/12/31" ), 16.201789789372075],
[ new Date("1939/12/31" ), 14.811674409618611],
[ new Date("1940/12/31" ), 19.749039962586323],
[ new Date("1941/12/31" ), 19.31675182946367],
[ new Date("1942/12/31" ), 12.399110556623064],
[ new Date("1943/12/31" ), 14.355828685417073],
[ new Date("1944/12/31" ), 18.588237497147297],
[ new Date("1945/12/31" ), 13.564543349592872],
[ new Date("1946/12/31" ), 17.581189374929924],
[ new Date("1947/12/31" ), 10.712648198890738],
[ new Date("1948/12/31" ), 13.530804319715264],
[ new Date("1949/12/31" ), 16.475773114497805],
[ new Date("1950/12/31" ), 11.472931120029983],
[ new Date("1951/12/31" ), 18.195259419826428],
[ new Date("1952/12/31" ), 17.734326441676636],
[ new Date("1953/12/31" ), 8.491998596212117],
[ new Date("1954/12/31" ), 16.92465073011287],
[ new Date("1955/12/31" ), 16.274152905567128],
[ new Date("1956/12/31" ), 9.28735065785145],
[ new Date("1957/12/31" ), 16.239563311723362],
[ new Date("1958/12/31" ), 19.121905233710077],
[ new Date("1959/12/31" ), 16.309992243949797],
[ new Date("1960/12/31" ), 14.675171752293704],
[ new Date("1961/12/31" ), 18.877912007528362],
[ new Date("1962/12/31" ), 12.639318272313773],
[ new Date("1963/12/31" ), 16.134408570794317],
[ new Date("1964/12/31" ), 18.015006359294926],
[ new Date("1965/12/31" ), 19.093795814725567],
[ new Date("1966/12/31" ), 19.658132548441092],
[ new Date("1967/12/31" ), 19.706016090950243],
[ new Date("1968/12/31" ), 15.484704780367943],
[ new Date("1969/12/31" ), 14.503766170325605],
[ new Date("1970/12/31" ), 13.96076822180562],
[ new Date("1971/12/31" ), 18.556449530277284],
[ new Date("1972/12/31" ), 16.255343717995164],
[ new Date("1973/12/31" ), 13.011500600842307],
[ new Date("1974/12/31" ), 16.789136641600827],
[ new Date("1975/12/31" ), 13.376153292852226],
[ new Date("1976/12/31" ), 15.772549243309435],
[ new Date("1977/12/31" ), 18.704920824962407],
[ new Date("1978/12/31" ), 24.92040909931374],
[ new Date("1979/12/31" ), 13.914867780038648],
[ new Date("1980/12/31" ), 13.746437996544774],
[ new Date("1981/12/31" ), 17.07339328797035],
[ new Date("1982/12/31" ), 18.401447372080696],
[ new Date("1983/12/31" ), 28.69807991253229],
[ new Date("1984/12/31" ), 25.202538727527166],
[ new Date("1985/12/31" ), 20.160352772196163],
[ new Date("1986/12/31" ), 19.467393802723972],
[ new Date("1987/12/31" ), 18.288341376808575],
[ new Date("1988/12/31" ), 19.626535702685153],
[ new Date("1989/12/31" ), 12.087280063661296],
[ new Date("1990/12/31" ), 22.54361088195882],
[ new Date("1991/12/31" ), 18.01936595344624],
[ new Date("1992/12/31" ), 22.012064191807294],
[ new Date("1993/12/31" ), 21.985641169786934],
[ new Date("1994/12/31" ), 19.102576810680286],
[ new Date("1995/12/31" ), 13.139462834923206],
[ new Date("1996/12/31" ), 11.814305688484012],
[ new Date("1997/12/31" ), 15.595096887147395],
[ new Date("1998/12/31" ), 18.08867356110453],
[ new Date("1999/12/31" ), 13.602495668798994],
[ new Date("2000/12/31" ), 21.56985646370428],
[ new Date("2001/12/31" ), 17.147461545898363],
[ new Date("2002/12/31" ), 10.723973336153517],
[ new Date("2003/12/31" ), 14.13154623888181],
[ new Date("2004/12/31" ), 14.533573875309678],
[ new Date("2005/12/31" ), 13.776413420707266],
[ new Date("2006/12/31" ), 15.846663315172686],
[ new Date("2007/12/31" ), 16.819200300668594],
[ new Date("2008/12/31" ), 17.074761033301986],
[ new Date("2009/12/31" ), 11.478601791333189],
[ new Date("2010/12/31" ), 18.948066029796546],
[ new Date("2011/12/31" ), 13.38548122708846],
[ new Date("2012/12/31" ), 12.76146348321073],
[ new Date("2013/12/31" ), 11.906740302529935],
[ new Date("2014/12/31" ), 15.628691568160924],
[ new Date("2015/12/31" ), 18.933682171983794],
[ new Date("2016/12/31" ), 16.912802372685352]];

// the first year of tmin is not included because pdsi needs to be updated
// [ new Date("1895/01/01"), 6.535326087, 21.44497283],
var tmin_tmean_tmax_data = [ [ new Date("1895/01/01" ), 46.824092221180926, 61.12384130021432, 75.4235903833784],
[ new Date("1896/01/01" ), 48.33825326543961, 61.85479205583389, 75.37133083937525],
[ new Date("1897/01/01" ), 47.59782951870362, 60.876262876747674, 74.15469623985396],
[ new Date("1898/01/01" ), 46.91585560822955, 60.68878854534781, 74.46172148634693],
[ new Date("1899/01/01" ), 45.978758852515284, 60.86705373636987, 75.7553486356059],
[ new Date("1900/01/01" ), 47.660708718796805, 62.310526226378016, 76.96034374860226],
[ new Date("1901/01/01" ), 47.48163202354452, 61.74737632320654, 76.01312062924838],
[ new Date("1902/01/01" ), 46.18395547332106, 61.10906601686782, 76.03417657045026],
[ new Date("1903/01/01" ), 46.49392258260136, 60.91983196230012, 75.34574132288328],
[ new Date("1904/01/01" ), 46.6241545326356, 61.50838925895495, 76.39262398086339],
[ new Date("1905/01/01" ), 46.01316402687702, 59.67762581923543, 73.3420876214621],
[ new Date("1906/01/01" ), 46.75260764783124, 60.75366343878719, 74.75471923275637],
[ new Date("1907/01/01" ), 47.09412975902028, 60.969811177941864, 74.8454926082476],
[ new Date("1908/01/01" ), 45.56398411617946, 60.26281181761467, 74.96163953046107],
[ new Date("1909/01/01" ), 46.1211834700428, 60.91062349661159, 75.70006350396208],
[ new Date("1910/01/01" ), 47.17068929858631, 62.81198899138046, 78.45328867489549],
[ new Date("1911/01/01" ), 46.23822188599042, 60.70553486205646, 75.17284785354678],
[ new Date("1912/01/01" ), 43.29249948321026, 58.560566304127555, 73.82863314728499],
[ new Date("1913/01/01" ), 44.41882348368479, 59.21119404330273, 74.00356462056132],
[ new Date("1914/01/01" ), 47.81174811999576, 61.434644310684455, 75.05754051288112],
[ new Date("1915/01/01" ), 45.46014838629424, 60.051903198850226, 74.64365802636434],
[ new Date("1916/01/01" ), 45.635733160150856, 61.3127367292309, 76.98974030191674],
[ new Date("1917/01/01" ), 44.453889743112185, 61.05600886164536, 77.65812797136624],
[ new Date("1918/01/01" ), 45.579817261202216, 60.9533748456701, 76.32693241423472],
[ new Date("1919/01/01" ), 44.38146289783703, 59.51155720872403, 74.64165151060034],
[ new Date("1920/01/01" ), 44.601378207168565, 59.773895460516705, 74.94641268494048],
[ new Date("1921/01/01" ), 45.64371299528115, 61.30713070763536, 76.97054841305327],
[ new Date("1922/01/01" ), 45.211896221664944, 60.45799728528152, 75.70409835554184],
[ new Date("1923/01/01" ), 44.392517525107394, 59.22900029005204, 74.06548306399867],
[ new Date("1924/01/01" ), 44.13279189318789, 59.91949820651665, 75.70620450751782],
[ new Date("1925/01/01" ), 44.5850392851072, 60.42341741897384, 76.2617955821863],
[ new Date("1926/01/01" ), 46.56586039481127, 61.15661524884159, 75.74737011719664],
[ new Date("1927/01/01" ), 47.048365242860676, 61.847849744272644, 76.64733424843489],
[ new Date("1928/01/01" ), 46.76093697001355, 61.74085373149428, 76.72077047962784],
[ new Date("1929/01/01" ), 45.38719729022456, 60.30342106531235, 75.2196448405138],
[ new Date("1930/01/01" ), 46.55411115863167, 60.84998801029149, 75.14586487928395],
[ new Date("1931/01/01" ), 46.448926856068645, 60.75184648055104, 75.054766102302],
[ new Date("1932/01/01" ), 45.94785394757183, 60.98492466788821, 76.02199535209601],
[ new Date("1933/01/01" ), 46.29067720669574, 61.31075934091952, 76.33084147606843],
[ new Date("1934/01/01" ), 48.482961972980235, 63.429429639487225, 78.37589731342753],
[ new Date("1935/01/01" ), 46.7453434456532, 60.86885967939932, 74.99237590844736],
[ new Date("1936/01/01" ), 47.68620790367153, 61.97210282191976, 76.25799772615609],
[ new Date("1937/01/01" ), 46.99929223715164, 61.41857687374902, 75.83786151289453],
[ new Date("1938/01/01" ), 47.001816504213885, 61.47499797262161, 75.9481794381067],
[ new Date("1939/01/01" ), 47.286931053533436, 61.26734880840507, 75.24776657511389],
[ new Date("1940/01/01" ), 48.6693478751277, 62.04937902837754, 75.42941020753256],
[ new Date("1941/01/01" ), 46.725759924009765, 60.21090115151319, 73.69604237716524],
[ new Date("1942/01/01" ), 46.80736536294921, 61.49923357896593, 76.19110179262043],
[ new Date("1943/01/01" ), 48.897288048117574, 62.879483434315844, 76.86167882701606],
[ new Date("1944/01/01" ), 46.106501339973356, 60.19494991265343, 74.28339849925884],
[ new Date("1945/01/01" ), 45.485100355436465, 60.342486360992424, 75.19987235168946],
[ new Date("1946/01/01" ), 46.422921859333236, 61.02698341167728, 75.63104494960322],
[ new Date("1947/01/01" ), 46.24002660393093, 60.96810928777586, 75.69619195307892],
[ new Date("1948/01/01" ), 46.25968487556456, 60.996736027967685, 75.73378718037307],
[ new Date("1949/01/01" ), 46.09801501257001, 60.33188718100185, 74.56575934948741],
[ new Date("1950/01/01" ), 47.93840553620757, 63.24628368284597, 78.55416181076606],
[ new Date("1951/01/01" ), 46.95765189655805, 61.434364635222366, 75.9110773589239],
[ new Date("1952/01/01" ), 46.18893921533644, 60.90285428362365, 75.6167693740592],
[ new Date("1953/01/01" ), 45.58710168686187, 61.199958196518466, 76.81281469924807],
[ new Date("1954/01/01" ), 47.70410365800672, 62.763713796891075, 77.82332395049646],
[ new Date("1955/01/01" ), 45.190888683805234, 60.2465846941613, 75.30228069721758],
[ new Date("1956/01/01" ), 45.995978059843736, 61.535249884224825, 77.07452169061175],
[ new Date("1957/01/01" ), 47.450468926362845, 61.5231535477732, 75.59583818135665],
[ new Date("1958/01/01" ), 46.98449029129153, 61.49485588669348, 76.00522146072286],
[ new Date("1959/01/01" ), 46.98291165515117, 61.71657601410031, 76.45024036038399],
[ new Date("1960/01/01" ), 46.42764996349954, 61.35365319319958, 76.27965642784754],
[ new Date("1961/01/01" ), 46.75176850694179, 61.178923421783566, 75.6060783278103],
[ new Date("1962/01/01" ), 47.32298797049836, 61.86278849971069, 76.40258902112662],
[ new Date("1963/01/01" ), 46.982698564929024, 61.777134493006194, 76.57157040946433],
[ new Date("1964/01/01" ), 44.64392047333794, 59.350130747143076, 74.05634102408123],
[ new Date("1965/01/01" ), 45.8351070474033, 60.72170703274677, 75.60830701872615],
[ new Date("1966/01/01" ), 46.611699950717956, 61.160879267691094, 75.71005856452862],
[ new Date("1967/01/01" ), 46.08638738442853, 61.264006291394146, 76.44162520169817],
[ new Date("1968/01/01" ), 45.570757044444704, 60.68844437834572, 75.806131710872],
[ new Date("1969/01/01" ), 46.559054883497936, 61.50467812396245, 76.4503013569616],
[ new Date("1970/01/01" ), 45.660632718084855, 60.98366325779898, 76.30669380919154],
[ new Date("1971/01/01" ), 45.057228306960596, 60.214625800168434, 75.37202331023826],
[ new Date("1972/01/01" ), 46.22427286216964, 61.449250626936504, 76.67422837897581],
[ new Date("1973/01/01" ), 45.254188884166254, 60.448114392522086, 75.64203990373572],
[ new Date("1974/01/01" ), 46.08424208160947, 61.192970136737834, 76.30169819899211],
[ new Date("1975/01/01" ), 44.94039566771485, 60.33965743407308, 75.73891921273525],
[ new Date("1976/01/01" ), 45.248759263641084, 60.34189678949256, 75.43503431084706],
[ new Date("1977/01/01" ), 46.468939840287284, 61.59028306755244, 76.71162627866907],
[ new Date("1978/01/01" ), 47.247865582265135, 61.66083897948465, 76.07381238239023],
[ new Date("1979/01/01" ), 45.5355433087267, 60.97985459709222, 76.42416588408499],
[ new Date("1980/01/01" ), 46.4491332586269, 62.0384163767936, 77.62769948673721],
[ new Date("1981/01/01" ), 47.632161282662835, 62.5228414726029, 77.41352164593573],
[ new Date("1982/01/01" ), 46.08970580098302, 60.8295014274333, 75.56929706518314],
[ new Date("1983/01/01" ), 45.9209069176495, 60.11288623722512, 74.30486556003189],
[ new Date("1984/01/01" ), 46.312635449190054, 60.63883701362029, 74.9650385638459],
[ new Date("1985/01/01" ), 46.48525213131384, 60.98956992536471, 75.49388774183284],
[ new Date("1986/01/01" ), 48.16961475102551, 62.326935368397336, 76.48425599870454],
[ new Date("1987/01/01" ), 46.56726045249608, 60.78033276872001, 74.99340509338808],
[ new Date("1988/01/01" ), 47.13632755083682, 61.708673027548535, 76.28101850867334],
[ new Date("1989/01/01" ), 47.948808087356525, 63.24769159501094, 78.54657510301874],
[ new Date("1990/01/01" ), 47.11713801502107, 61.28027539204372, 75.4434127662416],
[ new Date("1991/01/01" ), 46.49932264823196, 60.69487935471447, 74.89043607409856],
[ new Date("1992/01/01" ), 47.56452654102366, 61.21487128596599, 74.86521601299509],
[ new Date("1993/01/01" ), 48.02051194216838, 61.85504777796173, 75.68958363692664],
[ new Date("1994/01/01" ), 48.51524013630015, 62.48697850182947, 76.45871688231922],
[ new Date("1995/01/01" ), 48.05166050454573, 62.50349663740242, 76.95533277476487],
[ new Date("1996/01/01" ), 48.76011509921384, 63.32307029189589, 77.88602546248893],
[ new Date("1997/01/01" ), 48.175130517266226, 62.169762184484874, 76.16439383771046],
[ new Date("1998/01/01" ), 46.52866667848869, 60.949216861404736, 75.36976703239722],
[ new Date("1999/01/01" ), 47.01976975038157, 62.2855821601341, 77.55139458673902],
[ new Date("2000/01/01" ), 48.020501411665805, 62.74565714567693, 77.47081287277166],
[ new Date("2001/01/01" ), 47.12834781110476, 61.678781847164196, 76.2292158948708],
[ new Date("2002/01/01" ), 47.609380168964265, 62.66226079122878, 77.71514141251845],
[ new Date("2003/01/01" ), 48.570030129336125, 63.31039808970793, 78.0507660317824],
[ new Date("2004/01/01" ), 47.53194403622577, 61.48066525614924, 75.42938645827593],
[ new Date("2005/01/01" ), 48.63310741841679, 62.87564844163451, 77.11818945640493],
[ new Date("2006/01/01" ), 47.86196707357652, 62.50851651792968, 77.15506597382603],
[ new Date("2007/01/01" ), 48.30722386583863, 62.407222986557365, 76.50722210509751],
[ new Date("2008/01/01" ), 47.35848556779669, 61.86438326574863, 76.3702809635928],
[ new Date("2009/01/01" ), 48.26184422943021, 63.041704461547155, 77.82156468534686],
[ new Date("2010/01/01" ), 47.67492396991592, 61.93538632660382, 76.19584868244276],
[ new Date("2011/01/01" ), 47.036865226477154, 61.96567343223629, 76.8944816431443],
[ new Date("2012/01/01" ), 48.66426561460559, 63.47535899370739, 78.28645237970252],
[ new Date("2013/01/01" ), 48.20660582090362, 62.13707714618412, 76.06719296383088],
[ new Date("2014/01/01" ), 49.449461562830635, 63.53021383765677, 77.6107945580478],
[ new Date("2015/01/01" ), 49.01233012846939, 62.65042489412651, 76.27907528142552],
[ new Date("2016/01/01" ), 48.52065354847824, 63.18773337016451, 77.84632129135602]];


var desired_range = null;

/*
 Continue working with the function in order to get to the selected da
 */ 
function setSelectionOnChart(startDate, endDate){

	startDate = (startDate.split(" ")[0]).split("-").join("/");

	for(var i = 0; i < spei_data.length; i++){
		var selectedDate = spei_data[i][0];
		var selectedMonth = eval(selectedDate.getMonth() + 1);
		var selectedDay = selectedDate.getDate();

		var selectedDate = selectedDate.getFullYear() + "/" + pad(selectedMonth.toString(),2) + "/" + pad(selectedDay.toString(),2);

		//console.log(selectedDate + "    " + startDate);
		if(selectedDate == startDate){
            spei_graph.setSelection(i); 
			ppt_graph.setSelection(i); 
			tmin_tmax_graph.setSelection(i); 
			//tmin_graph.setSelection(i); 
			//tmax_graph.setSelection(i); 
			//debug.log("i = " + i);
			break;
		}
	}
	//var startDateArr = startDate.split("-");
	//startDate = startDateArr[1] + " " + startDateArr[2] + " " + startDateArr[0];

	//debug.log("Selection: " + startDate + "      "  + endDate  + "     " + selectedDate);
}

function pad (str, max) {
  return str.length < max ? pad("0" + str, max) : str;
}

function zoom(res) {
	var w = g2.xAxisRange();
	desired_range = [ w[0], w[0] + res * 1000 ];
	animate();
}
function reset() {
	desired_range = orig_range;
	animate();
}
function animate() {
	setTimeout(approach_range, 50);
}

function approach_range() {
	if (!desired_range) return;
	// go halfway there
	var range = g2.xAxisRange();
	if (Math.abs(desired_range[0] - range[0]) < 60 &&
    	Math.abs(desired_range[1] - range[1]) < 60) {
  	g2.updateOptions({dateWindow: desired_range});
  	// (do not set another timeout.)
	} else {
  	var new_range;
  	new_range = [0.5 * (desired_range[0] + range[0]),
               0.5 * (desired_range[1] + range[1])];
  	g2.updateOptions({dateWindow: new_range});
  	animate();
	}
}

  // this is the graph that shows the yearly SPEI dataset
  spei_graph = new Dygraph(document.getElementById("graph_spei_container"),spei_data,
		{
			labels: [ "Date", "SPEI" ],
			ylabel: 'Yearly SPEI<br/>(drought index)',
			highlightCircleSize: 6,
			axes: {
			  x: {
			    valueFormatter: function(ms) {
			      return '<b>Year:</b>' + new Date(ms).strftime('%Y');
			    }
			  }
			}
        });

    ppt_graph = new Dygraph(document.getElementById("graph_ppt_container"),ppt_data,
		{
			labels: [ "Date", "PPT" ],
			ylabel: 'Annual Precipitation (in)',
			highlightCircleSize: 6,
			axes: {
			  x: {
			    valueFormatter: function(ms) {
			      return '<b>Year:</b>' + new Date(ms).strftime('%Y');
			    }
			  }
		}
	});

/*tmin_graph = new Dygraph(document.getElementById("graph_tmin_container"),tmin_data,
		{
			labels: [ "Date", "TMIN"],
			ylabel: 'Temperature (C)',
			highlightCircleSize: 6,
			axes: {
			  x: {
			    valueFormatter: function(ms) {
			      return '<b>Year:</b>' + new Date(ms).strftime('%Y');
			    }
			  }
		}
	});

  // this is the graph that shows the water year PDSI dataset
   tmax_graph = new Dygraph(document.getElementById("graph_tmax_container"),tmax_data,
		{
			labels: [ "Date", "TMAX" ],
			ylabel: 'Temperature (C)',
			highlightCircleSize: 6,
			axes: {
			  x: {
			    valueFormatter: function(ms) {
			      return '<b>Year:</b>' + new Date(ms).strftime('%Y');
			    }
			  }
			}
		});*/


  tmin_tmax_graph = new Dygraph(document.getElementById("graph_tmin_tmax_container"),tmin_tmean_tmax_data,
		{
			labels: [ "Date", "TMIN", "TMEAN", "TMAX" ],
			ylabel: 'Temperature (F)',
			highlightCircleSize: 6,
			axes: {
			  x: {
			    valueFormatter: function(ms) {
			      return '<b>Year:</b>' + new Date(ms).strftime('%Y');
			    }
			  }
		}
    });

    schorr_graph = new Dygraph(document.getElementById("graph_schorr_container"),schorr_data,
    {
      labels: [ "Date", "Annual", "JJA" ],
      ylabel: 'Precipitation (in)',
      highlightCircleSize: 6,
      axes: {
        x: {
          valueFormatter: function(ms) {
            return '<b>Year:</b>' + new Date(ms).strftime('%Y');
          }
        }
      }
  });

  bearpaw_graph = new Dygraph(document.getElementById("graph_bearpaw_container"),bearpaw_data,
  {
    labels: [ "Date", "Annual", "JJA" ],
    ylabel: 'Precipitation (in)',
    highlightCircleSize: 6,
    axes: {
      x: {
        valueFormatter: function(ms) {
          return '<b>Year:</b>' + new Date(ms).strftime('%Y');
        }
      }
    }
});